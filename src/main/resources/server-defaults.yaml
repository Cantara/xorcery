name: genericserver
host: localhost
home: "{{ SYSTEM.user_dir }}"
resources: "{{ home }}/target/classes"

environment: development
tag: default

idle_timeout: -1

server:
  port: 8889
  idle_timeout: "{{ idle_timeout }}"

  http2:
    enabled: true

  http3:
    enabled: false

  ssl:
    enabled: true
    port: 8443
    trustall: true
    wantclientauth: true
    keystore:
      type: "PKCS12"
      path: "{{ resources }}/keystore.p12"
      password: "password"
    truststore:
      type: "PKCS12"
      path: "{{ resources }}/truststore.jks"
      password: "password"

client:
  ssl:
    enabled: true
    trustall: true
    keystore:
      type: "PKCS12"
      path: "{{ resources }}/keystore.p12"
      password: "password"
    truststore:
      type: "PKCS12"
      path: "{{ resources }}/truststore.jks"
      password: "password"

jaxrs:
  register:
    - com.exoreaction.xorcery.service.registry.RegistryService$Feature
  packages:
    - com.exoreaction.xorcery.jaxrs
    - com.exoreaction.xorcery.server.resources
    - com.exoreaction.xorcery.service

reactivestreams:
  allowlocal: false

registry:
  master: https://localhost:8443/
  dnsdiscovery: false

conductor:
  templates: []
#    - /conductor/metrics.yaml
#    - /conductor/metrics_opensearch.yaml
#    - /conductor/logging_opensearch.yaml
#    - /conductor/requestlog_opensearch.yaml
#    - /conductor/certmanager.yaml

certificatemanager:
  is_master: true
  renew_on_startup: true

# Logging
log4jappender: {}

soutlogging: {}

logs: {}

# Metrics
metrics: {}

soutmetrics: {}

jmxmetrics: {}

# Domain events
neo4jdatabase:
  path: "{{ home }}/target/neo4j"
  settings:
    dbms:
      allow_upgrade: true

neo4jprojections: {}

eventstore:
  url: esdb://localhost:2113?tls=false

opensearch:
  url: http://localhost:9200
  templates:
    common: /opensearch/common.json
    domainevents: /opensearch/domainevents.json

domainevents: {}

# Misc
visualizer: {}
