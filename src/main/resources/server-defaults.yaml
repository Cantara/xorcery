name: server1
host: localhost
home: "{{ SYSTEM.user_dir }}"

environment: development
tag: default

idle_timeout: -1

server:
  port: 8889
  secure_port: 8443
  idle_timeout: "{{ idle_timeout }}"

jaxrs:
  register:
    - com.exoreaction.xorcery.service.registry.RegistryService$Feature
  packages:
    - com.exoreaction.xorcery.jaxrs
    - com.exoreaction.xorcery.server.resources
    - com.exoreaction.xorcery.service

reactivestreams:
  allowlocal: false

registry:
  master: https://localhost:8443/
  dnsdiscovery: false

conductor:
  enabled: true
  templates: []
#    - /conductor/metrics.yaml
#    - /conductor/metrics_opensearch.yaml
#    - /conductor/logging_opensearch.yaml
#    - /conductor/requestlog_opensearch.yaml
#    - /conductor/certmanager.yaml

certificatemanager:
  enabled: true
  is_master: true
  renew_on_startup: true

# Logging
log4jappender:
  enabled: true

soutlogging:
  enabled: true

logs:
  enabled: true

# Metrics
metrics:
  enabled: true

soutmetrics:
  enabled: false

jmxmetrics:
  enabled: true

# Domain events
neo4jdatabase:
  enabled: true
  path: "{{ home }}/target/neo4j"
  settings:
    dbms:
      allow_upgrade: true
  databases:
    - neo4j

neo4jprojections:
  enabled: true

eventstore:
  enabled: false
  url: esdb://localhost:2113?tls=false

opensearch:
  enabled: false
  url: http://localhost:9200
  templates:
    common: /opensearch/common.json
    domainevents: /opensearch/domainevents.json

domainevents:
  enabled: true

# Misc

visualizer:
  enabled: false

