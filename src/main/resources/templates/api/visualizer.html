<!DOCTYPE html>
<html lang="en">
<head>
    <title>Service visualizer</title>

    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>

    <style type="text/css">
      #mynetwork {
        width: 1024px;
        height: 800px;
        border: 1px solid lightgray;
      }

    </style>
</head>
<body>
<p>Service visualizer</p>
<!--
{{services}}
{{#each services.entrySet}}
{{key.id}} : {{value}}<br/>
{{/each}}
-->
<div id="mynetwork"></div>

<script type="text/javascript">
// create an array with nodes
var nodes = new vis.DataSet([
{{#each services}}
    { id: {{id}}, label: "{{resource.id}}", shape: "box" },
{{/each}}
]);

// create an array with edges
var edges = new vis.DataSet([
{{#each connections}}
{ from: {{from}}, to: {{to}},
    arrows: {
        to: {
            enabled: true,
            type: "arrow",
        }
    }
}
{{/each}}
]);

// create a network
var container = document.getElementById("mynetwork");
var data = {
nodes: nodes,
edges: edges,
};
var options =
{
    layout:
    {
        hierarchical:
        {
            enabled: true,
            direction: "DU",
            shakeTowards: "leaves"
        }
    }
}

var network = new vis.Network(container, data, options);

</script>
</body>
</html>