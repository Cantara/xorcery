log4jpublisher:
  enabled: "{{ defaults.enabled }}"
  appender: "Log4jPublisher"
  subscriber:
    uri:
    stream: "logs"
    configuration: {}
  publisher:
    configuration: {}

requestlog:
  enabled: "{{ log4jpublisher.enabled }}"
  subscriber:
    uri: "{{ log4jpublisher.subscriber.uri }}"
    stream: "{{ log4jpublisher.subscriber.stream }}"
    configuration: "{{ log4jpublisher.subscriber.configuration }}"
  publisher:
    configuration: "{{ log4jpublisher.publisher.configuration }}"

log4jsubscriber:
  enabled: "{{ defaults.enabled }}"
  subscriber:
    stream: "logs"

log4j2:
  Configuration:
    appenders:
      Log4jPublisher:
        name: Log4jPublisher
        PatternLayout:
          Pattern: "%d [%t] %-5level %marker %c{1.}: %msg%n%throwable"

    Loggers:
      logger:
        - name: com.exoreaction.xorcery.log4jsubscriber
          level: debug
          additivity: false
          AppenderRef:
            ref: STDOUT

      Root:
        level: info
        AppenderRef:
          - ref: Log4jPublisher
