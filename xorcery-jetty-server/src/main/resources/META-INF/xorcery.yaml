jetty:
  server:
    enabled: "{{ defaults.enabled }}"
    scheme: "{{ jetty.server.ssl.enabled ? \"https\" | \"http\" }}"
    port: "{{ jetty.server.ssl.enabled ? jetty.server.ssl.port | jetty.server.http.port }}"
    uri: "{{jetty.server.scheme}}://{{instance.fqdn}}:{{jetty.server.port}}/"

    minThreads: 10
    maxThreads: 150
    outputBufferSize: 32768
    requestHeaderSize : 16384

    idleTimeout: "{{ defaults.idleTimeout }}"

    http:
      enabled: "{{ defaults.enabled }}"
      port: 80

    http2:
      enabled: "{{ defaults.enabled }}"

    ssl:
      enabled: "{{ defaults.enabled }}"
      port: 443
#      keystore: null
#      truststore: null
      trustAll: false
      needClientAuth: false
      wantClientAuth: true
      sniRequired: false
      sniHostCheck: false
      alias: "self"

    srv:
      priority: 2 # By default, so that other servers can use 1 or 3 for higher and lower priority
      weight: 100 # By default, so that other servers can use higher or lower weights (e.g. 10 for test rollout)

    security:
      enabled: "{{ defaults.enabled }}"
      method: "CLIENT_CERT"
      certificate:
        enabled: "{{ jetty.server.security.enabled }}"
      jwt:
        enabled: "{{ jetty.server.security.enabled }}"
        issuers:
          default:
            keys: []
      #    someissuer:
      #       keys:
      #         - alg: RSA256
      #           kid: 1234
      #           key: MII...
      #
