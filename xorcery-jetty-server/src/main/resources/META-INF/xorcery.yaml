jetty:
  server:
    enabled: "{{ defaults.enabled }}"
    scheme: "{{ jetty.server.ssl.enabled ? \"https\" | \"http\" }}"
    port: "{{ jetty.server.ssl.enabled ? jetty.server.ssl.port | jetty.server.http.port }}"
    uri: "{{jetty.server.scheme}}://{{instance.fqdn}}:{{jetty.server.port}}/"

    minThreads: 10
    maxThreads: 150
    outputBufferSize: 32768
    requestHeaderSize : 16384

    idleTimeout: "{{ defaults.idleTimeout }}"

    http:
      port: "{{ SYSTEM.http_port | 80}}"

    http2:
      enabled: "{{ defaults.enabled }}"

    ssl:
      enabled: "{{ defaults.enabled }}"
      port: "{{ SYSTEM.ssl_port | 443 }}"
      trustAll: true
      needClientAuth: false
      wantClientAuth: true
      sniRequired: false
      sniHostCheck: false
      alias: "self"

    security:
      enabled: "{{ defaults.enabled }}"
      method: "CLIENT_CERT"
      certificate:
        enabled: "{{ jetty.server.security.enabled }}"
      jwt:
        enabled: "{{ jetty.server.security.enabled }}"
        issuers: {}
      #    someissuer: somekey
